<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NebulaSEM: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NebulaSEM
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Computational fluid dynamics solver using dG spectral-element and finite volume discretization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">NebulaSEM Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<p><a href="https://github.com/dshawul/NebulaSEM/actions/workflows/NebulaSEM.yml"><img src="https://github.com/dshawul/NebulaSEM/actions/workflows/NebulaSEM.yml/badge.svg" alt="NebulaSEM" /></a> <a href="https://github.com/dshawul/NebulaSEM/actions/workflows/APIdoc.yml"><img src="https://github.com/dshawul/NebulaSEM/actions/workflows/APIdoc.yml/badge.svg" alt="APIdoc" /></a> <a href="https://github.com/dshawul/NebulaSEM/actions/workflows/paper.yml"><img src="https://github.com/dshawul/NebulaSEM/actions/workflows/paper.yml/badge.svg" alt="JOSS" /></a></p>
<h2 id="nebulasem">NebulaSEM</h2>
<p>NebulaSEM is an experimental finite volume (FV) and discontinous galerkin spectral element (dGSEM) code for solving partial differential equations (PDEs) of fluid dynamics. It comes with solvers for compressible and incompressible flow, and also provides infrastructure for writing PDE solvers easily with support for adaptive mesh refinement (AMR). The primary focus of the software is research in a high-order non-hydrostatic dynamical core for atmospheric simulations. Several examples are provided to demonstrate this capability.</p>
<h3 id="build-and-install">Build and install</h3>
<p>Clone the repository</p>
<pre><code>git clone https://github.com/dshawul/NebulaSEM.git</code></pre>
<p>To build and install NebulaSEM</p>
<pre><code>mkdir build &amp;&amp; cd build
cmake -DCMAKE_BUILD_TYPE=release -DCMAKE_INSTALL_PREFIX=.. ..
make &amp;&amp; make install</code></pre>
<p>Additional options to enable fine-grained parallelization on CPUs and GPUs</p>
<pre><code>-DUSE_ACC=ON
-DUSE_OMP=ON</code></pre>
<p>This will install tools for pre-processing, solution and post-processing. The tool <code>mesh</code> generates the grid, <code>prepare</code> does various pre- and post-processing, and several other binaries for solving PDEs e.g. euler, convection etc</p>
<h3 id="requirements">Requirements</h3>
<ul>
<li><a href="http://glaros.dtc.umn.edu/gkhome/metis/metis/overview">METIS</a> for domain decomposition</li>
<li><a href="http://open-mpi.org">OpenMPI</a> or other MPI library compatible with your C++ compiler</li>
<li><a href="https://cmake.org">CMake</a> for makefile generation</li>
<li><a href="https://gcc.gnu.org/">GCC</a> or other C++ compiler with atleast C++17 standard support</li>
</ul>
<p>Optional packages - <a href="http://www.doxygen.nl/">DOxygen</a> for API documentation - <a href="https://www.paraview.org/">ParaView</a> for visualization - <a href="https://developer.nvidia.com/hpc-sdk">NVHPC</a> or other OpenACC compiler</p>
<h3 id="testing">Testing</h3>
<p>A testing script <code>test.sh</code> is provided. By default it runs the lid-driven test case under <code>examples/cavity</code>..</p>
<p>To run a test case, execute the script specifying the number of MPI ranks if greater than 1, the test case name.</p>
<pre><code>./test.sh -n 2 -c examples/atmo/advection-leveque/bubble</code></pre>
<p>The path to the test case should point to the grid file, in this case <code>bubble</code> not to the directory itself.</p>
<pre><code>Usage: ./test.sh [options]

   -n,--np       Number of processors to use.
   -c,--case     Path to grid file name that is under a test case directory.
   -b,--bin-path Path to binaries: mesh, prepare and solvers.
   -s,--steps    Number of time steps, which overwrites the one in control file.
   -h,--help     Display this help message.</code></pre>
<h4 id="lid-driven-cavity-flow">Lid-driven cavity flow</h4>
<p>This test case uses the Pressure Implicit Splitting of Operators (PISO) solver for incompressible flow at low Reynolds number i.e. no turbulence.</p>
<pre><code>$ ./test.sh -n 1 -c examples/cavity/cavity-amr</code></pre>
<p>This will generate a <code>run-examples-cavity-amr</code> directory in which you can find the results including VTK files for visualization by paraview.</p>
<p>Here are images of the decompostion using METIS with 12 mpi ranks, and the magnitude of velocity plots.</p>
<p align="center">
<img width="300px" src="./images/cavity-decomp.png"/> <img width="300px" src="./images/cavity-velocity.png"/>
</p>
<h4 id="pitz-daily-test-case">Pitz-Daily test case</h4>
<p>Another test case, namely the Pitz and Daily, solved using LES is shown below. You can see the formation of eddies at the backward facing step and later convection towards the outlet.</p>
<p align="center">
<img width="900px" src="./images/pitz-velocity.gif"/>
</p>
<p>The same test case simulated with the ke turbulence model is shown below. It is a Reynolds-average turbulence scheme so only mean state is displayed.</p>
<p align="center">
<img width="900px" src="./images/pitz-velocity-ke.png"/>
</p>
<h4 id="rising-thermal-bubble">Rising thermal bubble</h4>
<p>This is a popular test case for numerical weather prediction models that solve the Euler equations using explicit time-stepping unlike other CFD applications that often use implicit solvers. Moreover this test cases uses Discontinous Galerkin method (spectral-element version) on hexahedral grids, and adaptive mesh refinement. Thanks to my postdoc supervisor Francis X. Giraldo, from whom I learned this stuff!</p>
<p>A thermal bubble of gaussian distribution rises up due to bouyancy, while deforming on the way, and collides with the top boundary.</p>
<p align="center">
<img width="500px" src="./images/rtb-temp.gif"/>
</p>
<h2 id="contribution">Contribution</h2>
<p>Users are welcome to suggest and implement new features such as new solvers, turbulence models, new test cases, as well as report bugs or issues they encounter. Please feel free to <a href="https://github.com/dshawul/NebulaSEM/issues/new/choose">open an issue on this repository</a> describing your desired change/bug-fix. Pull requests are also welcome!</p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jan 2 2024 12:22:08 for NebulaSEM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
